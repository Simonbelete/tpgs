{% extends "sidebar.html" %} {% load static %} {% block stylesheet %}
<link rel="stylesheet" href="{% static 'admin-LTE-v3.2.0/plugins/daterangepicker/daterangepicker.css' %}" />
<link rel="stylesheet" href="{% static 'admin-LTE-v3.2.0/plugins/daterangepicker/daterangepicker.css' %}" />
<link rel="stylesheet" href="{% static 'admin-LTE-v3.2.0/plugins/select2/css/select2.min.css' %}" />
<link rel="stylesheet" href="{% static 'admin-LTE-v3.2.0/plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css' %}"/>
<!-- DataTables -->
<link rel="stylesheet" href="{% static 'admin-LTE-v3.2.0/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css' %}"/>
<link rel="stylesheet" href="{% static 'admin-LTE-v3.2.0/plugins/datatables-responsive/css/responsive.bootstrap4.min.css' %}"/>
<link rel="stylesheet" href="{% static 'admin-LTE-v3.2.0/plugins/datatables-buttons/css/buttons.bootstrap4.min.css' %}"/>
{% endblock %} 
{% block title %}
Chicken {{ data.tag }} - ILRI Poultry Farm Management 
{% endblock%}
{% block body %}

<!-- Content Header (Page header) -->
<section class="content-header">
  <div class="container-fluid">
    <div class="row mb-2">
      <div class="col-sm-6">
        <h1>Chicken</h1>
      </div>
      <div class="col-sm-6">
        <ol class="breadcrumb float-sm-right">
          <li class="breadcrumb-item"><a href="#">Home</a></li>
          <li class="breadcrumb-item active">Chickens</li>
        </ol>
      </div>
    </div>
  </div>
  <!-- /.container-fluid -->

  <!-- Main content -->
  <section class="content row">
    {% include "components/weight_piechart.html" %}
  </section>

  <!-- /.content -->
</section>

{% endblock %} {% block script %}
<script src="{% static 'admin-LTE-v3.2.0/plugins/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'admin-LTE-v3.2.0/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js' %}"></script>
<script src="{% static 'admin-LTE-v3.2.0/plugins/datatables-responsive/js/dataTables.responsive.min.js' %}"></script>
<script src="{% static 'admin-LTE-v3.2.0/plugins/datatables-responsive/js/responsive.bootstrap4.min.js' %}"></script>
<script src="{% static 'admin-LTE-v3.2.0/plugins/datatables-buttons/js/dataTables.buttons.min.js' %}"></script>
<script src="{% static 'admin-LTE-v3.2.0/plugins/datatables-buttons/js/buttons.bootstrap4.min.js' %}"></script>
<script src="{% static 'admin-LTE-v3.2.0/plugins/jszip/jszip.min.js' %}"></script>
<script src="{% static 'admin-LTE-v3.2.0/plugins/pdfmake/pdfmake.min.js' %}"></script>
<script src="{% static 'admin-LTE-v3.2.0/plugins/pdfmake/vfs_fonts.js' %}"></script>
<script src="{% static 'admin-LTE-v3.2.0/plugins/datatables-buttons/js/buttons.html5.min.js' %}"></script>
<script src="{% static 'admin-LTE-v3.2.0/plugins/datatables-buttons/js/buttons.print.min.js' %}"></script>
<script src="{% static 'admin-LTE-v3.2.0/plugins/datatables-buttons/js/buttons.colVis.min.js' %}"></script>
<script src="{% static 'admin-LTE-v3.2.0/plugins/moment/moment.min.js' %}"></script>
<script src="{% static 'admin-LTE-v3.2.0/plugins/daterangepicker/daterangepicker.js' %}"></script>
<script src="{% static 'admin-LTE-v3.2.0/plugins/select2/js/select2.full.min.js' %}"></script>
<script src="{% static 'admin-LTE-v3.2.0/plugins/chart.js/Chart.min.js' %}"></script>

<script src="{% static 'js/components/breed_multiselect.js' %}"></script>
<script>
  $(function () {
    breed_multiselect_input = breedMultipleSelect.init($("#breed-multiselect"));

    breed_multiselect_input.on("select2:select", function (e) {
      var data = e.params.data;
      console.log($("#breed-multiselect").val());
    });

    $('#weight_piechart_apply').click(function () {
        start_week = $('#start_week').val()
        end_week = $('#end_week').val()
        breed_types_select = $("#breed-multiselect").val()
        query = "?breed_type=" + breed_types_select.join(",") + "&start_week=" + start_week + "&end_week=" + end_week
        console.log(query)
        $('#weight_piechart_img').attr("src", "/api/v1/reports/weight" + query);
        $('#weight_piechart_download').attr("href", "/api/v1/reports/weight" + query);
    })

    
  });
</script>
{% endblock %}
